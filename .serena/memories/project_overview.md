# TRANSLATE! by Mikko — Project Overview
- **Purpose**: Chromium/Safari browser extension that translates active web pages (including dynamic DOM updates and top-level PDFs) using a cost-aware, failover-enabled registry of translation providers.
- **Core capabilities**: multi-provider routing (DashScope/Qwen, OpenAI, DeepL, Google, Anthropic, Mistral, OpenRouter, Ollama, macOS), automatic language detection, streaming updates with cancellation, translation memory (IndexedDB + in-memory LRU), diagnostics surface in popup, and a custom PDF viewer with provider document translation or local WASM fallback.
- **Architecture**: background worker owns state, queues, throttling, and provider orchestration; popup/settings consume that state via structured messaging; content scripts inject translation logic and batching; shared libs live under `src/lib` (messaging, logger, detect, tm, batch delimiters, fetch strategy).
- **Repo layout**:
  - `src/` — browser extension sources (background.js, contentScript.js, translator modules, providers, popup UI, pdfViewer assets, styles, wasm loaders).
  - `test/` — Jest unit/integration suites mirroring core modules.
  - `e2e/` — Playwright smoke suites for popup/DOM/PDF flows.
  - `docs/` — provider docs, wasm notes, architecture references.
  - `scripts/` — helper automation (Safari conversion, PR script, config seeding, wasm asset fetch).
  - `dist/` — build output (generated by `npm run build`); `safari/` stores converter output.
- **CI/CD**: GitHub Actions run lint/format, Jest (coverage ≥80%), Playwright smoke suites, build/zip reproducibility, security scans (`npm audit`, `gitleaks`), size-limit gates, and signed artifact publishing.
- **Notable workflows**: nightly PR rebase, merge queue via Bors, PR automation script, and signed Chrome package pipeline.
